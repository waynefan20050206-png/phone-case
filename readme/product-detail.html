<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Midnight Marble - CaseCraft</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="flex items-center justify-between h-16">
                <!-- Back Button -->
                <a href="index.html" class="flex items-center gap-2 text-gray-600 hover:text-gray-900">
                    <i class="fas fa-arrow-left"></i>
                    <span class="hidden sm:inline">Back to Sales</span>
                </a>

                <!-- Logo -->
                <a href="index.html" class="text-2xl font-bold">
                    <span class="text-gray-900">Case</span>
                    <span class="text-orange-500">Craft</span>
                </a>

                <!-- Right Icons -->
                <div class="flex items-center gap-4">
                    <button class="relative" onclick="window.location.href='cart.html'">
                        <i class="fas fa-shopping-cart text-gray-700 text-xl"></i>
                        <span class="cart-badge">3</span>
                    </button>
                    <button onclick="window.location.href='profile.html'">
                        <i class="fas fa-user text-gray-700 text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Product Detail -->
    <main class="container py-8">
        <div class="grid lg:grid-cols-2 gap-8 lg:gap-12">
            <!-- Image Gallery -->
            <div>
                <!-- Main Image -->
                <div class="relative aspect-square rounded-3xl overflow-hidden bg-gray-50 mb-4">
                    <span class="absolute top-4 left-4 badge badge-orange text-sm">-37% OFF</span>
                    <img src="https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=800&q=80" 
                         alt="Midnight Marble" 
                         class="w-full h-full object-cover" 
                         id="main-image">
                </div>

                <!-- Thumbnails -->
                <div class="grid grid-cols-3 gap-3">
                    <button class="aspect-square rounded-xl overflow-hidden border-2 border-orange-500" 
                            onclick="changeImage('https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=800&q=80')">
                        <img src="https://images.unsplash.com/photo-1601784551446-20c9e07cdbdb?w=200&q=80" 
                             alt="View 1" 
                             class="w-full h-full object-cover">
                    </button>
                    <button class="aspect-square rounded-xl overflow-hidden border-2 border-gray-200 hover:border-gray-300"
                            onclick="changeImage('https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=800&q=80')">
                        <img src="https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=200&q=80" 
                             alt="View 2" 
                             class="w-full h-full object-cover">
                    </button>
                    <button class="aspect-square rounded-xl overflow-hidden border-2 border-gray-200 hover:border-gray-300"
                            onclick="changeImage('https://images.unsplash.com/photo-1606220838315-056192d5e927?w=800&q=80')">
                        <img src="https://images.unsplash.com/photo-1606220838315-056192d5e927?w=200&q=80" 
                             alt="View 3" 
                             class="w-full h-full object-cover">
                    </button>
                </div>
            </div>

            <!-- Product Info -->
            <div class="space-y-6">
                <!-- Title & Rating -->
                <div>
                    <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-3">Midnight Marble</h1>
                    <div class="flex items-center gap-3 mb-4">
                        <div class="flex items-center gap-1">
                            <i class="fas fa-star text-amber-400"></i>
                            <i class="fas fa-star text-amber-400"></i>
                            <i class="fas fa-star text-amber-400"></i>
                            <i class="fas fa-star text-amber-400"></i>
                            <i class="fas fa-star text-amber-400"></i>
                        </div>
                        <span class="text-sm text-gray-600">5.0 (128 reviews)</span>
                    </div>
                </div>

                <!-- Price -->
                <div class="flex items-center gap-3 mb-4">
                    <span class="text-3xl font-bold text-gray-900">$24.99</span>
                    <span class="text-xl text-gray-400 line-through">$39.99</span>
                </div>

                <!-- Stock Status -->
                <div class="flex items-center gap-2 text-green-600 mb-6">
                    <i class="fas fa-check"></i>
                    <span class="font-medium">In Stock</span>
                </div>

                <!-- Description -->
                <div class="border-t border-b border-gray-200 py-6">
                    <p class="text-gray-600 leading-relaxed">
                        Premium marble-textured case with military-grade drop protection. 
                        Features raised edges for screen and camera protection.
                    </p>
                </div>

                <!-- Compatible Models -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 mb-2">Compatible with:</h3>
                    <div class="flex flex-wrap gap-2">
                        <span class="badge badge-gray">iPhone 16</span>
                        <span class="badge badge-gray">iPhone 15</span>
                        <span class="badge badge-gray">iPhone 14</span>
                    </div>
                </div>

                <!-- Features -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-900 mb-3">Key Features:</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start gap-2 text-gray-600">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Military-grade drop protection</span>
                        </li>
                        <li class="flex items-start gap-2 text-gray-600">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Wireless charging compatible</span>
                        </li>
                        <li class="flex items-start gap-2 text-gray-600">
                            <i class="fas fa-check text-green-500 mt-1"></i>
                            <span>Raised bezels for screen protection</span>
                        </li>
                    </ul>
                </div>

                <!-- Quantity Selector -->
                <div class="flex items-center gap-3">
                    <span class="text-sm font-medium text-gray-700">Quantity:</span>
                    <div class="flex items-center border border-gray-200 rounded-lg">
                        <button class="px-4 py-2 hover:bg-gray-50 quantity-btn decrement">
                            <i class="fas fa-minus text-gray-600"></i>
                        </button>
                        <input type="number" value="1" min="1" class="quantity-input w-16 text-center border-x border-gray-200 py-2" readonly>
                        <button class="px-4 py-2 hover:bg-gray-50 quantity-btn increment">
                            <i class="fas fa-plus text-gray-600"></i>
                        </button>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="grid sm:grid-cols-2 gap-3">
                    <button class="btn btn-primary py-4" onclick="addToCart()">
                        <i class="fas fa-shopping-cart mr-2"></i> Add to Cart
                    </button>
                    <button class="btn btn-outline py-4" onclick="toggleWishlist()" id="wishlist-btn">
                        <i class="far fa-heart mr-2"></i> Add to Wishlist
                    </button>
                </div>

                <!-- Buy Now Button -->
                <button class="btn btn-primary w-full py-4" onclick="buyNow()">
                    Buy Now
                </button>

                <!-- Trust Badges -->
                <div class="grid grid-cols-3 gap-4 pt-6 border-t border-gray-200">
                    <div class="text-center">
                        <i class="fas fa-shield-alt text-gray-400 text-xl mb-2"></i>
                        <p class="text-xs text-gray-600">2 Year Warranty</p>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-truck text-gray-400 text-xl mb-2"></i>
                        <p class="text-xs text-gray-600">Free Shipping</p>
                    </div>
                    <div class="text-center">
                        <i class="fas fa-sync-alt text-gray-400 text-xl mb-2"></i>
                        <p class="text-xs text-gray-600">30-Day Returns</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-12 border-t border-gray-200 py-8">
        <div class="container text-center">
            <p class="text-gray-500 text-sm">
                © 2025 CaseCraft. Team 13 Project-Chenwei Fan, Andrew Lin, HsuanLu Yang.
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        function changeImage(src) {
            document.getElementById('main-image').src = src;
        }

        function addToCart() {
            const product = {
                id: 1,
                name: 'Midnight Marble',
                price: 24.99
            };
            const quantity = parseInt(document.querySelector('.quantity-input').value);
            
            CartManager.addItem(product, quantity);
        }

        function toggleWishlist() {
            const product = {
                id: 1,
                name: 'Midnight Marble'
            };
            const added = WishlistManager.toggle(product);
            const btn = document.getElementById('wishlist-btn');
            const icon = btn.querySelector('i');
            
            if (added) {
                icon.classList.remove('far');
                icon.classList.add('fas', 'text-red-500');
                btn.innerHTML = '<i class="fas fa-heart mr-2 text-red-500"></i> In Wishlist';
            } else {
                icon.classList.remove('fas', 'text-red-500');
                icon.classList.add('far');
                btn.innerHTML = '<i class="far fa-heart mr-2"></i> Add to Wishlist';
            }
        }

        function buyNow() {
            addToCart();
            setTimeout(() => {
                window.location.href = 'cart.html';
            }, 500);
        }

        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            CartManager.updateBadge();
            
            // 檢查是否在願望清單中
            if (WishlistManager.isInWishlist(1)) {
                const btn = document.getElementById('wishlist-btn');
                btn.innerHTML = '<i class="fas fa-heart mr-2 text-red-500"></i> In Wishlist';
            }
        });
    </script>
</body>
</html>